WITH SAMETIMETABLE  AS
(
	SELECT * FROM (
	SELECT "DAY_OF_WEEK", "NO"
	FROM "DAY_OF_WEEK", "TIMETABLE"
	GROUP BY "DAY_OF_WEEK", "NO"
	EXCEPT(
		SELECT "DAY_OF_WEEK", "NO" FROM "COURSE_TO_TIME"
		WHERE "COURSE_ID" IN (
			SELECT "COURSE_ID" FROM "COURSE"
			WHERE "COURSE_ID" IN (
				SELECT "COURSE_ID"
				FROM "COURSE_REGISTRATION"
				WHERE ("STUDENT_ID" = '2018111111')
					OR ("STUDENT_ID" = '2017222222')
			) AND ("YEAR" = 2018 AND "SEMESTER" = 2)
		)
	)
	) AS TEMP
	WHERE "DAY_OF_WEEK" = 'MON' OR "DAY_OF_WEEK" = 'TUE' OR "DAY_OF_WEEK" = 'WED'
		OR "DAY_OF_WEEK" = 'THU' OR "DAY_OF_WEEK" = 'FRI'
)
SELECT	CASE WHEN "DAY_OF_WEEK" = 'MON' THEN
		CASE WHEN "NO" = 0  THEN 'MON, 8:00~8:50'
		WHEN "NO" = 1 THEN 'MON, 9:00~9:50'
		WHEN "NO" = 2 THEN 'MON, 10:00~10:50'
		WHEN "NO" = 3 THEN 'MON, 11:00~11:50'
		WHEN "NO" = 4 THEN 'MON, 12:00~12:50'
		WHEN "NO" = 5 THEN 'MON, 13:00~13:50'
		WHEN "NO" = 6 THEN 'MON, 14:00~14:50'
		WHEN "NO" = 7 THEN 'MON, 15:00~15:50'
		WHEN "NO" = 8 THEN 'MON, 16:00~16:50'
		WHEN "NO" = 9 THEN 'MON, 17:00~17:50'
		WHEN "NO" = 10 THEN 'MON, 18:00~18:50'
	END
	WHEN "DAY_OF_WEEK" = 'TUE' THEN
		CASE WHEN "NO" = 0  THEN 'TUE, 8:00~8:50'
		WHEN "NO" = 1 THEN 'TUE, 9:00~9:50'
		WHEN "NO" = 2 THEN 'TUE, 10:00~10:50'
		WHEN "NO" = 3 THEN 'TUE, 11:00~11:50'
		WHEN "NO" = 4 THEN 'TUE, 12:00~12:50'
		WHEN "NO" = 5 THEN 'TUE, 13:00~13:50'
		WHEN "NO" = 6 THEN 'TUE, 14:00~14:50'
		WHEN "NO" = 7 THEN 'TUE, 15:00~15:50'
		WHEN "NO" = 8 THEN 'TUE, 16:00~16:50'
		WHEN "NO" = 9 THEN 'TUE, 17:00~17:50'
		WHEN "NO" = 10 THEN 'TUE, 18:00~18:50'
	END
	WHEN "DAY_OF_WEEK" = 'WED' THEN
		CASE WHEN "NO" = 0  THEN 'WED, 8:00~8:50'
		WHEN "NO" = 1 THEN 'WED, 9:00~9:50'
		WHEN "NO" = 2 THEN 'WED, 10:00~10:50'
		WHEN "NO" = 3 THEN 'WED, 11:00~11:50'
		WHEN "NO" = 4 THEN 'WED, 12:00~12:50'
		WHEN "NO" = 5 THEN 'WED, 13:00~13:50'
		WHEN "NO" = 6 THEN 'WED, 14:00~14:50'
		WHEN "NO" = 7 THEN 'WED, 15:00~15:50'
		WHEN "NO" = 8 THEN 'WED, 16:00~16:50'
		WHEN "NO" = 9 THEN 'WED, 17:00~17:50'
		WHEN "NO" = 10 THEN 'WED, 18:00~18:50'
	END
	WHEN "DAY_OF_WEEK" = 'THU' THEN
		CASE WHEN "NO" = 0  THEN 'THU, 8:00~8:50'
		WHEN "NO" = 1 THEN 'THU, 9:00~9:50'
		WHEN "NO" = 2 THEN 'THU, 10:00~10:50'
		WHEN "NO" = 3 THEN 'THU, 11:00~11:50'
		WHEN "NO" = 4 THEN 'THU, 12:00~12:50'
		WHEN "NO" = 5 THEN 'THU, 13:00~13:50'
		WHEN "NO" = 6 THEN 'THU, 14:00~14:50'
		WHEN "NO" = 7 THEN 'THU, 15:00~15:50'
		WHEN "NO" = 8 THEN 'THU, 16:00~16:50'
		WHEN "NO" = 9 THEN 'THU, 17:00~17:50'
		WHEN "NO" = 10 THEN 'THU, 18:00~18:50'
	END
	WHEN "DAY_OF_WEEK" = 'FRI' THEN
		CASE WHEN "NO" = 0  THEN 'FRI, 8:00~8:50'
		WHEN "NO" = 1 THEN 'FRI, 9:00~9:50'
		WHEN "NO" = 2 THEN 'FRI, 10:00~10:50'
		WHEN "NO" = 3 THEN 'FRI, 11:00~11:50'
		WHEN "NO" = 4 THEN 'FRI, 12:00~12:50'
		WHEN "NO" = 5 THEN 'FRI, 13:00~13:50'
		WHEN "NO" = 6 THEN 'FRI, 14:00~14:50'
		WHEN "NO" = 7 THEN 'FRI, 15:00~15:50'
		WHEN "NO" = 8 THEN 'FRI, 16:00~16:50'
		WHEN "NO" = 9 THEN 'FRI, 17:00~17:50'
		WHEN "NO" = 10 THEN 'FRI, 18:00~18:50'
	END
END AS "TIME"
FROM SAMETIMETABLE
ORDER BY (
CASE WHEN "DAY_OF_WEEK" = 'MON' THEN 1
	WHEN "DAY_OF_WEEK" = 'TUE' THEN 2
	WHEN "DAY_OF_WEEK" = 'WED' THEN 3
	WHEN "DAY_OF_WEEK" = 'THU' THEN 4
	WHEN "DAY_OF_WEEK" = 'FRI' THEN 5
	END
), "NO";
